/**
 * visual.js
 * 
 * Visualization 메뉴 스크립트
 */


// E-Chart 인스턴스
const chartInstance = {
  cpu: null
}

// 차트 데이터
const chartData = {
  cpu: {
    value: [],
    category: []
  }
}

const createChart = (type, data, _option = {}, unit = '%') => {
  const option = {
    // title: {
    //   text: type.toUpperCase()
    // },
    bindto: '#visual_' + type,
    data: {
      x: 'x',
      columns: [
        data[type].category,
        ...data[type].data
      ]
    },
    ..._option,
    tooltip: {
      format: {
        value: val => val + unit
      }
    }
  }
  console.log('Create', option)
  chartInstance[type] = c3.generate(option)
}

const updateChart = (type, data) => {
  chartInstance[type].flow({
    columns: [
      data[type].category,
      ...data[type].data
    ],
    duration: 250,
    length: 1
  })
}


/**
 * E-Chart에 사용할 수 있는 타입으로 데이터 전처리
 * 
 * @param {any} data ES 조회 데이터
 */
const dataProcessing = (data, all = true) => {
  const dataList = data.body.hits.hits.reverse()

  const cpu = {
    user: [],
    system: [],
    steal: [],
    irq: [],
    softirq: [],
    nice: [],
    iowait: []
  }

  const memory = {
    total: 0,
    free: 0,
    used: [],
    swap: []
  }

  const network = {
    in: {
      dropped: [],
      bytes: [],
      packets: [],
      errors: []
    },
    out: {
      dropped: [],
      bytes: [],
      packets: [],
      errors: []
    }
  }

  function timeToString (x) {
    function padding (d) {
      d = d.toString()
      return d.length === 1 ? '0' + d : d
    }
    const _ = new Date(x)
    const h = padding(_.getHours())
    const m = padding(_.getMinutes())
    const s = padding(_.getSeconds())
    return `${h}:${m}:${s}`
  }
  

  const cpuCategoryData = ['x']
  dataList
    .filter(d => d._source.metricset.name === 'cpu')
    .forEach(d => {
    const cpuInfo = d._source.system.cpu
    cpuCategoryData.push(timeToString(d._source['@timestamp']))
    cpu.user.push(parseFloat((cpuInfo.user.pct || 0) * 100).toFixed(2))
    cpu.system.push(parseFloat((cpuInfo.system.pct || 0) * 100).toFixed(2))
    cpu.steal.push(parseFloat((cpuInfo.steal.pct || 0) * 100).toFixed(2))
    cpu.irq.push(parseFloat((cpuInfo.irq.pct || 0) * 100).toFixed(2))
    cpu.softirq.push(parseFloat((cpuInfo.softirq.pct || 0) * 100).toFixed(2))
    cpu.nice.push(parseFloat((cpuInfo.nice.pct || 0) * 100).toFixed(2))
    cpu.iowait.push(parseFloat((cpuInfo.iowait.pct || 0) * 100).toFixed(2))
    // cpu.idle.push(parseFloat((cpuInfo.idle.pct || 0) * 100).toFixed(2))
    // cpu.total.push(parseFloat((cpuInfo.total.pct || 0) * 100).toFixed(2))
  })

  const cpuChartData = []
  Object.keys(cpu).forEach(k => {
    cpuChartData.push([k, ...(all ? cpu[k] : [cpu[k].pop()])])
  })


  const memoryCategoryData = ['x']
  dataList
    .filter(d => d._source.metricset.name === 'memory')
    .forEach(d => {
    const memInfo = d._source.system.memory
    memoryCategoryData.push(timeToString(d._source['@timestamp']))
    memory.total = memInfo.total
    memory.free = memInfo.free
    memory.used.push(parseFloat((memInfo.used.pct || 0) * 100).toFixed(2))
    memory.swap.push(parseFloat((memInfo.swap.pct || 0) * 100).toFixed(2))
  })

  const memoryChartData = []
  memoryChartData.push(['used', ...(all ? memory.used : [memory.used.pop()])])
  memoryChartData.push(['swap', ...(all ? memory.swap : [memory.swap.pop()])])


  const networkCategoryData = ['x']
  dataList
    .filter(d => d._source.metricset.name === 'network')
    .forEach(d => {
    const networkInfo = d._source.system.network
    networkCategoryData.push(timeToString(d._source['@timestamp']))
    network.in.dropped.push(networkInfo.in.dropped)
    network.in.bytes.push(networkInfo.in.bytes)
    network.in.packets.push(networkInfo.in.packets)
    network.in.errors.push(networkInfo.in.errors)
    network.out.dropped.push(networkInfo.out.dropped)
    network.out.bytes.push(networkInfo.out.bytes)
    network.out.packets.push(networkInfo.out.packets)
    network.out.errors.push(networkInfo.out.errors)
  })

  const networkChartData = []
  Object.keys(network).forEach(k => {
    Object.keys(network[k]).forEach(nk => {
      let value = []
      network[k][nk].forEach(v => {
        if (nk === 'out') {
          value.push(v * -1)
        } else {
          value.push(v)
        }
      })
      networkChartData.push([k + ':' + nk, ...(all ? value : [value.pop()])])
    })
  })

  const res = {
    cpu: {
      category: cpuCategoryData,
      data: cpuChartData
    },
    memory: {
      category: memoryCategoryData,
      data: memoryChartData
    },
    network: {
      category: networkCategoryData,
      data: networkChartData
    }
  }

  console.log(res)
  return res
}

const pollingGroup = []
const registPollingGroup = (handler) => {
  pollingGroup.push(handler)
}

const poll = (tick = 5000) => {
  setTimeout(() => {
    getMetricData(data => {
      const pData = dataProcessing(data, false)
      pollingGroup.forEach(h => h(pData))
    })

    if (__globalPollControl) {
      poll()
    }
  }, tick)
}

/**
 * Metric 정보 수집
 */
const getMetricData = (callback) => {
  $.ajax({
    url: '/API/getMetric',
    type: 'GET',
    dataType: 'JSON',
    success (res) {
      callback(res)
    },
    error (jqXHR, state) {
      console.error(jqXHR, state)
      callback()
    }
  })
}


$(function () {
  getMetricData(mData => {
    const pData = dataProcessing(mData)
    createChart('cpu', pData, {
      axis: {
        x: {
          type: 'category',
          label: 'Timestamp'
        },
        y: {
          min: 0,
          max: 100,
          label: 'Usage'
        }
      }
    })

    createChart('memory', pData, {
      axis: {
        x: {
          type: 'category',
          label: 'Timestamp'
        },
        y: {
          min: 0,
          max: 100,
          label: 'Usage'
        }
      }
    })

    createChart('network', pData, {
      x: {
        type: 'category',
        label: 'Timestamp'
      },
      y: {
        label: 'Usage'
      },
      types: {
        'in:dropped': 'area',
        'in:bytes': 'area',
        'in:packets': 'area',
        'in:errors': 'area',
        'out:dropped': 'area',
        'out:bytes': 'area',
        'out:packets': 'area',
        'out:errors': 'area',
      }
    }, 'Mbit/s')

    registPollingGroup(data => {
      updateChart('cpu', data)
      updateChart('memory', data)
      updateChart('network', data)
    })

    poll()
  })
})

var a =
{
  "bindto": "#visual_network",
  "data": {
    "x": "x",
    "columns": [
      [
        "x",
        "17:39:48",
        "17:39:48",
        "17:39:48",
        "17:39:48",
        "17:39:48",
        "17:39:48",
        "17:39:48",
        "17:39:58",
        "17:39:58",
        "17:39:58",
        "17:39:58",
        "17:39:58",
        "17:39:58",
        "17:39:58",
        "17:40:08",
        "17:40:08",
        "17:40:08",
        "17:40:08",
        "17:40:08",
        "17:40:08",
        "17:40:08",
        "17:40:18",
        "17:40:18",
        "17:40:18",
        "17:40:18",
        "17:40:18",
        "17:40:18",
        "17:40:18",
        "17:40:28",
        "17:40:28",
        "17:40:28",
        "17:40:28",
        "17:40:28",
        "17:40:28",
        "17:40:28",
        "17:40:38",
        "17:40:38",
        "17:40:38",
        "17:40:38",
        "17:40:38",
        "17:40:38",
        "17:40:38",
        "17:40:48",
        "17:40:48",
        "17:40:48",
        "17:40:48",
        "17:40:48",
        "17:40:48",
        "17:40:48",
        "17:40:58",
        "17:40:58",
        "17:40:58",
        "17:40:58",
        "17:40:58",
        "17:40:58",
        "17:40:58",
        "17:41:08",
        "17:41:08",
        "17:41:08",
        "17:41:08",
        "17:41:08",
        "17:41:08",
        "17:41:08",
        "17:41:18",
        "17:41:18",
        "17:41:18",
        "17:41:18",
        "17:41:18",
        "17:41:18",
        "17:41:18",
        "17:41:28",
        "17:41:28",
        "17:41:28",
        "17:41:28",
        "17:41:28",
        "17:41:28",
        "17:41:28",
        "17:41:38",
        "17:41:38",
        "17:41:38",
        "17:41:38",
        "17:41:38",
        "17:41:38",
        "17:41:38",
        "17:41:48",
        "17:41:48",
        "17:41:48",
        "17:41:48",
        "17:41:48",
        "17:41:48",
        "17:41:48",
        "17:41:58",
        "17:41:58",
        "17:41:58",
        "17:41:58",
        "17:41:58",
        "17:41:58",
        "17:41:58",
        "17:42:08",
        "17:42:08",
        "17:42:08",
        "17:42:08",
        "17:42:08",
        "17:42:08",
        "17:42:08",
        "17:42:18",
        "17:42:18",
        "17:42:18",
        "17:42:18",
        "17:42:18",
        "17:42:18",
        "17:42:18",
        "17:42:28",
        "17:42:28",
        "17:42:28",
        "17:42:28",
        "17:42:28",
        "17:42:28",
        "17:42:28",
        "17:42:38",
        "17:42:38",
        "17:42:38",
        "17:42:38",
        "17:42:38",
        "17:42:38",
        "17:42:38",
        "17:42:48",
        "17:42:48",
        "17:42:48",
        "17:42:48",
        "17:42:48",
        "17:42:48",
        "17:42:48",
        "17:42:58",
        "17:42:58",
        "17:42:58",
        "17:42:58",
        "17:42:58",
        "17:42:58",
        "17:42:58",
        "17:43:08",
        "17:43:08",
        "17:43:08",
        "17:43:08",
        "17:43:08",
        "17:43:08",
        "17:43:08",
        "17:43:18",
        "17:43:18",
        "17:43:18",
        "17:43:18",
        "17:43:18",
        "17:43:18",
        "17:43:18",
        "17:43:28",
        "17:43:28",
        "17:43:28",
        "17:43:28",
        "17:43:28",
        "17:43:28",
        "17:43:28",
        "17:43:38",
        "17:43:38",
        "17:43:38",
        "17:43:38",
        "17:43:38",
        "17:43:38",
        "17:43:38",
        "17:43:48",
        "17:43:48",
        "17:43:48",
        "17:43:48",
        "17:43:48",
        "17:43:48",
        "17:43:48",
        "17:43:58",
        "17:43:58",
        "17:43:58",
        "17:43:58",
        "17:43:58",
        "17:43:58",
        "17:43:58",
        "17:44:08",
        "17:44:08",
        "17:44:08",
        "17:44:08",
        "17:44:08",
        "17:44:08",
        "17:44:08",
        "17:44:18",
        "17:44:18",
        "17:44:18",
        "17:44:18",
        "17:44:18",
        "17:44:18",
        "17:44:18",
        "17:44:28",
        "17:44:28",
        "17:44:28",
        "17:44:28",
        "17:44:28",
        "17:44:28",
        "17:44:28",
        "17:44:38",
        "17:44:38",
        "17:44:38",
        "17:44:38",
        "17:44:38",
        "17:44:38",
        "17:44:38",
        "17:44:48",
        "17:44:48",
        "17:44:48",
        "17:44:48",
        "17:44:48",
        "17:44:48",
        "17:44:48",
        "17:44:58",
        "17:44:58",
        "17:44:58",
        "17:44:58",
        "17:44:58",
        "17:44:58",
        "17:44:58",
        "17:45:08",
        "17:45:08",
        "17:45:08",
        "17:45:08",
        "17:45:08",
        "17:45:08",
        "17:45:08",
        "17:45:18",
        "17:45:18",
        "17:45:18",
        "17:45:18",
        "17:45:18",
        "17:45:18",
        "17:45:18",
        "17:45:28",
        "17:45:28",
        "17:45:28",
        "17:45:28",
        "17:45:28",
        "17:45:28",
        "17:45:28",
        "17:45:38",
        "17:45:38",
        "17:45:38",
        "17:45:38",
        "17:45:38",
        "17:45:38",
        "17:45:38",
        "17:45:48",
        "17:45:48",
        "17:45:48",
        "17:45:48",
        "17:45:48",
        "17:45:48",
        "17:45:48",
        "17:45:58",
        "17:45:58",
        "17:45:58",
        "17:45:58",
        "17:45:58",
        "17:45:58",
        "17:45:58",
        "17:46:08",
        "17:46:08",
        "17:46:08",
        "17:46:08",
        "17:46:08",
        "17:46:08",
        "17:46:08",
        "17:46:18",
        "17:46:18",
        "17:46:18",
        "17:46:18",
        "17:46:18",
        "17:46:18",
        "17:46:18"
      ],
      [
        "in:dropped",
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0
      ],
      [
        "in:bytes",
        0,
        4680683,
        5736358,
        5848289,
        198404940,
        31443843,
        10677797,
        0,
        4703639,
        5757241,
        5880933,
        199302534,
        31537851,
        10726886,
        0,
        4728483,
        5787681,
        5913525,
        200013054,
        31630390,
        10785144,
        0,
        4752763,
        5818254,
        5944518,
        200962442,
        31746005,
        10842062,
        0,
        4775103,
        5839859,
        5975380,
        202139267,
        31848677,
        10890133,
        0,
        4799813,
        5863475,
        6014247,
        203580992,
        31948894,
        10947912,
        0,
        4823373,
        5891669,
        6046462,
        204910545,
        32042728,
        11003715,
        0,
        4846329,
        5921135,
        6070457,
        206333319,
        32134822,
        11052752,
        0,
        4871009,
        5954078,
        6100035,
        208014864,
        32232226,
        11110527,
        0,
        4894569,
        5978391,
        6136031,
        209321464,
        32327901,
        11166258,
        0,
        4917271,
        6006991,
        6160190,
        210985553,
        32412279,
        11214649,
        0,
        4941168,
        6039730,
        6188065,
        212324774,
        32504701,
        11270699,
        0,
        4964845,
        6073031,
        6214677,
        213530198,
        32595025,
        11326118,
        0,
        4987185,
        6095960,
        6244505,
        214818031,
        32679387,
        11374423,
        0,
        5012081,
        6131339,
        6271969,
        216179080,
        32774856,
        11432520,
        0,
        5036175,
        6159783,
        6304459,
        217374698,
        32867004,
        11488876,
        0,
        5059589,
        6187933,
        6330984,
        218694132,
        32950634,
        11538987,
        0,
        5085507,
        6220653,
        6362899,
        220364206,
        33044663,
        11598764,
        0,
        5109705,
        6252434,
        6392690,
        221578963,
        33140391,
        11655674,
        0,
        5132045,
        6273911,
        6423735,
        222513820,
        33239061,
        11703800,
        0,
        5156859,
        6298074,
        6462126,
        223661994,
        33348206,
        11761636,
        0,
        5181005,
        6332632,
        6488632,
        224861715,
        33446727,
        11818108,
        0,
        5202777,
        6359890,
        6512691,
        225444616,
        33526779,
        11865113,
        0,
        5226936,
        6384942,
        6548701,
        226050852,
        33621199,
        11921583,
        0,
        5251082,
        6413157,
        6582027,
        226581714,
        33715412,
        11978462,
        0,
        5273422,
        6438263,
        6609489,
        227258447,
        33797618,
        12026620,
        0,
        5298318,
        6468697,
        6641646,
        228126506,
        33891334,
        12084507,
        0,
        5322494,
        6502803,
        6668967,
        228857359,
        33985057,
        12141300,
        0,
        5344834,
        6535027,
        6689104,
        229859028,
        34068260,
        12189293,
        0,
        5369678,
        6570302,
        6716756,
        230523312,
        34164337,
        12247446,
        0,
        5394155,
        6608902,
        6739831,
        231233901,
        34258116,
        12304501,
        0,
        5416495,
        6631443,
        6769424,
        231960021,
        34343889,
        12352309,
        0,
        5441205,
        6671268,
        6792237,
        232598816,
        34436413,
        12410215,
        0,
        5465381,
        6701111,
        6823793,
        233533601,
        34527118,
        12466980,
        0,
        5487721,
        6729910,
        6847524,
        234841410,
        34629670,
        12515100,
        0,
        5512617,
        6758269,
        6882067,
        236084301,
        34723417,
        12573242,
        0,
        5536711,
        6789769,
        6911429,
        237381225,
        34816386,
        12629554,
        0,
        5559051,
        6807316,
        6946100,
        238319906,
        34905445,
        12677432,
        0,
        5583813,
        6838995,
        6976963,
        238901955,
        34998443,
        12735256,
        0,
        5607959,
        6876656,
        7000319,
        239489802,
        35101936,
        12791695
      ],
      [
        "in:packets",
        0,
        57024,
        32046,
        32729,
        397678,
        212534,
        64775,
        0,
        57306,
        32171,
        32921,
        399618,
        213420,
        65092,
        0,
        57607,
        32337,
        33096,
        401683,
        214258,
        65433,
        0,
        57902,
        32503,
        33262,
        403855,
        215195,
        65765,
        0,
        58177,
        32635,
        33444,
        405677,
        216226,
        66079,
        0,
        58476,
        32760,
        33655,
        407929,
        217182,
        66415,
        0,
        58762,
        32912,
        33832,
        409713,
        218072,
        66744,
        0,
        59044,
        33085,
        33975,
        411521,
        218968,
        67060,
        0,
        59343,
        33265,
        34134,
        413848,
        219875,
        67399,
        0,
        59629,
        33397,
        34329,
        415636,
        220790,
        67726,
        0,
        59908,
        33566,
        34472,
        418080,
        221632,
        68038,
        0,
        60198,
        33742,
        34622,
        420326,
        222491,
        68364,
        0,
        60486,
        33921,
        34764,
        421908,
        223343,
        68685,
        0,
        60761,
        34060,
        34943,
        423753,
        224179,
        69003,
        0,
        61063,
        34251,
        35091,
        425892,
        225066,
        69342,
        0,
        61355,
        34402,
        35267,
        427475,
        225939,
        69669,
        0,
        61642,
        34569,
        35426,
        429380,
        226753,
        69995,
        0,
        61955,
        34746,
        35596,
        431673,
        227608,
        70342,
        0,
        62249,
        34919,
        35756,
        433302,
        228498,
        70675,
        0,
        62524,
        35049,
        35940,
        435112,
        229352,
        70989,
        0,
        62825,
        35177,
        36149,
        437355,
        230360,
        71326,
        0,
        63118,
        35362,
        36292,
        438957,
        231314,
        71654,
        0,
        63386,
        35527,
        36435,
        440644,
        232087,
        71962,
        0,
        63679,
        35661,
        36629,
        442677,
        232958,
        72290,
        0,
        63972,
        35812,
        36811,
        444332,
        233827,
        72623,
        0,
        64247,
        35962,
        36976,
        446204,
        234611,
        72938,
        0,
        64549,
        36124,
        37150,
        448174,
        235468,
        73274,
        0,
        64842,
        36309,
        37296,
        450096,
        236342,
        73605,
        0,
        65117,
        36499,
        37418,
        452340,
        237138,
        73917,
        0,
        65418,
        36689,
        37569,
        454353,
        238002,
        74258,
        0,
        65715,
        36898,
        37690,
        456282,
        238873,
        74588,
        0,
        65990,
        37033,
        37864,
        458117,
        239689,
        74897,
        0,
        66289,
        37250,
        37985,
        459991,
        240511,
        75235,
        0,
        66582,
        37413,
        38153,
        461985,
        241346,
        75566,
        0,
        66857,
        37585,
        38296,
        464368,
        242265,
        75881,
        0,
        67159,
        37738,
        38483,
        466348,
        243120,
        76221,
        0,
        67451,
        37906,
        38640,
        468236,
        244004,
        76546,
        0,
        67726,
        38014,
        38842,
        470019,
        244818,
        76856,
        0,
        68026,
        38186,
        39007,
        471882,
        245658,
        77193,
        0,
        68319,
        38389,
        39131,
        473739,
        246612,
        77520
      ],
      [
        "in:errors",
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      [
        "out:dropped",
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0
      ],
      [
        "out:bytes",
        0,
        10101440,
        4100709,
        4163851,
        198404940,
        238246750,
        8262250,
        0,
        10148016,
        4117789,
        4186974,
        199302534,
        239132459,
        8302453,
        0,
        10203149,
        4138709,
        4209311,
        200013054,
        240051040,
        8345710,
        0,
        10257062,
        4159863,
        4230649,
        200962442,
        241120868,
        8388202,
        0,
        10302412,
        4177157,
        4252844,
        202139267,
        243425135,
        8427691,
        0,
        10357382,
        4194464,
        4278332,
        203580992,
        245111502,
        8470486,
        0,
        10410079,
        4214003,
        4299931,
        204910545,
        246788294,
        8511624,
        0,
        10456655,
        4235518,
        4318411,
        206333319,
        248390322,
        8551619,
        0,
        10511442,
        4257415,
        4338706,
        208014864,
        250077258,
        8593811,
        0,
        10564142,
        4274914,
        4362710,
        209321464,
        251735326,
        8635314,
        0,
        10610072,
        4296024,
        4381366,
        210985553,
        253237713,
        8675080,
        0,
        10663342,
        4318220,
        4401010,
        212324774,
        254798463,
        8716920,
        0,
        10716068,
        4340611,
        4419959,
        213530198,
        256331027,
        8758260,
        0,
        10761418,
        4358670,
        4441348,
        214818031,
        257810998,
        8797708,
        0,
        10816573,
        4382443,
        4460896,
        216179080,
        259376695,
        8841029,
        0,
        10870323,
        4402069,
        4482433,
        217374698,
        260973770,
        8882192,
        0,
        10917638,
        4423171,
        4502675,
        218694132,
        262419996,
        8923536,
        0,
        10974752,
        4444349,
        4523591,
        220364206,
        263979327,
        8965630,
        0,
        11028501,
        4466031,
        4544065,
        221578963,
        265541739,
        9007786,
        0,
        11073851,
        4483452,
        4566664,
        222513820,
        266676878,
        9047806,
        0,
        11128826,
        4501050,
        4592134,
        223661994,
        268977572,
        9090874,
        0,
        11182565,
        4524105,
        4610803,
        224861715,
        270583870,
        9132598,
        0,
        11226762,
        4544367,
        4629539,
        225444616,
        271328877,
        9171596,
        0,
        11280537,
        4562252,
        4653392,
        226050852,
        272194157,
        9213334,
        0,
        11334279,
        4581966,
        4676009,
        226581714,
        273056676,
        9255665,
        0,
        11379629,
        4601339,
        4696442,
        227258447,
        273863325,
        9295471,
        0,
        11434786,
        4622001,
        4718426,
        228126506,
        274831475,
        9338117,
        0,
        11488717,
        4644803,
        4737546,
        228857359,
        275844834,
        9380039,
        0,
        11534067,
        4667961,
        4753940,
        229859028,
        276758676,
        9419591,
        0,
        11589221,
        4691416,
        4773565,
        230523312,
        277745824,
        9462671,
        0,
        11643646,
        4716594,
        4790514,
        231233901,
        278728571,
        9504798,
        0,
        11688996,
        4734361,
        4812105,
        231960021,
        279621912,
        9544156,
        0,
        11743978,
        4760464,
        4829114,
        232598816,
        280548711,
        9587268,
        0,
        11797905,
        4780737,
        4850469,
        233533601,
        281562968,
        9628896,
        0,
        11843255,
        4801631,
        4868725,
        234841410,
        283195871,
        9668046,
        0,
        11898421,
        4821691,
        4892109,
        236084301,
        284423646,
        9711490,
        0,
        11952173,
        4842988,
        4912327,
        237381225,
        285987380,
        9753005,
        0,
        11997523,
        4858236,
        4936596,
        238319906,
        287118007,
        9792522,
        0,
        12052495,
        4879941,
        4957884,
        238901955,
        287974920,
        9835515,
        0,
        12106250,
        4904480,
        4975215,
        239489802,
        288881580,
        9877385
      ],
      [
        "out:packets",
        0,
        56580,
        32901,
        33595,
        397678,
        164204,
        66441,
        0,
        56862,
        33031,
        33792,
        399618,
        165034,
        66768,
        0,
        57160,
        33202,
        33974,
        401683,
        165850,
        67121,
        0,
        57451,
        33375,
        34147,
        403855,
        166746,
        67467,
        0,
        57726,
        33508,
        34334,
        405677,
        167678,
        67787,
        0,
        58023,
        33639,
        34551,
        407929,
        168558,
        68135,
        0,
        58307,
        33793,
        34729,
        409713,
        169416,
        68467,
        0,
        58589,
        33970,
        34877,
        411521,
        170258,
        68792,
        0,
        58885,
        34151,
        35039,
        413848,
        171107,
        69135,
        0,
        59169,
        34285,
        35240,
        415636,
        171969,
        69470,
        0,
        59447,
        34459,
        35389,
        418080,
        172742,
        69793,
        0,
        59734,
        34642,
        35545,
        420326,
        173570,
        70132,
        0,
        60018,
        34828,
        35694,
        421908,
        174374,
        70467,
        0,
        60293,
        34968,
        35873,
        423753,
        175154,
        70786,
        0,
        60591,
        35166,
        36028,
        425892,
        175980,
        71139,
        0,
        60881,
        35323,
        36206,
        427475,
        176805,
        71474,
        0,
        61168,
        35495,
        36370,
        429380,
        177570,
        71810,
        0,
        61478,
        35678,
        36545,
        431673,
        178385,
        72168,
        0,
        61768,
        35857,
        36711,
        433302,
        179242,
        72513,
        0,
        62043,
        35992,
        36900,
        435112,
        180062,
        72837,
        0,
        62340,
        36127,
        37116,
        437355,
        180985,
        73188,
        0,
        62630,
        36318,
        37265,
        438957,
        181886,
        73528,
        0,
        62898,
        36483,
        37414,
        440644,
        182627,
        73842,
        0,
        63188,
        36623,
        37613,
        442677,
        183433,
        74181,
        0,
        63478,
        36780,
        37800,
        444332,
        184263,
        74525,
        0,
        63753,
        36935,
        37967,
        446204,
        185030,
        74847,
        0,
        64051,
        37102,
        38148,
        448174,
        185851,
        75195,
        0,
        64342,
        37293,
        38297,
        450096,
        186689,
        75535,
        0,
        64617,
        37488,
        38422,
        452340,
        187460,
        75855,
        0,
        64915,
        37684,
        38577,
        454353,
        188313,
        76206,
        0,
        65209,
        37899,
        38705,
        456282,
        189145,
        76549,
        0,
        65484,
        38039,
        38884,
        458117,
        189940,
        76868,
        0,
        65781,
        38262,
        39011,
        459991,
        190741,
        77218,
        0,
        66072,
        38428,
        39183,
        461985,
        191567,
        77556,
        0,
        66347,
        38600,
        39328,
        464368,
        192416,
        77873,
        0,
        66645,
        38760,
        39522,
        466348,
        193244,
        78227,
        0,
        66935,
        38934,
        39685,
        468236,
        194063,
        78564,
        0,
        67210,
        39047,
        39892,
        470019,
        194855,
        78884,
        0,
        67507,
        39225,
        40064,
        471882,
        195679,
        79234,
        0,
        67797,
        39434,
        40195,
        473739,
        196569,
        79574
      ],
      [
        "out:errors",
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ]
    ]
  },
  "types": {
    "in:dropped": "area",
    "in:bytes": "area",
    "in:packets": "area",
    "in:errors": "area",
    "out:dropped": "area",
    "out:bytes": "area",
    "out:packets": "area",
    "out:errors": "area"
  },
  "tooltip": {
    "format": {}
  }
}